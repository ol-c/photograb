<head>
  <title>photograb</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  {{> photograb}}
</body>

<template name="photograb">
  <div class="photograb-input">
    <img src="{{imageSrc}}">
    <img class="input-mask" src="{{imageGrabcutMaskSrc}}">
    <svg class="input-overlay" style="cursor:url({{cursorImage}}) 8 8, pointer;" width="{{width}}" height="{{height}}" viewbox="0 0 {{width}} {{height}}">
      {{#each masks}}{{> mask}}{{/each}}
      {{#each marks}}{{> mark}}{{/each}}
      {{#if currentMark}}{{> mark currentMark }}{{/if}}
    </svg>
  </div>
  <div class="photograb-output">
    <img style="cursor:url({{cursorImage}}) 8 8, pointer;" src="{{imageGrabcutSrc}}">
    <svg class="output-overlay" style="cursor:url({{cursorImage}}) 8 8, pointer;" width="{{width}}" height="{{height}}" viewbox="0 0 {{width}} {{height}}">
      {{#if currentMark}}{{> mark currentMark }}{{/if}}
    </svg>
  </div>
</template>

<template name="mask">
  <path class="mask"
        d="{{path}}"
        stroke="{{stroke}}"
        fill="{{fill}}"
        stroke-width="{{strokeWidth}}"/>

</template>

<template name="mark">
  <path class="mark"
        d="{{path}}"
        stroke="{{stroke}}"
        fill="none"
        stroke-width="{{strokeWidth}}"
        stroke-linecap="round"
        stroke-linejoin="round"/>
</template>
